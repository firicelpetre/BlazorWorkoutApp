

@page "/users"﻿

@attribute [Authorize(Roles = "Administrator")]

@using Blazornetrom.DTOs
@using Blazorise.DataGrid
@using Microsoft.AspNetCore.Authorization

<h3>Clineti</h3>

<DataGrid TItem="UsersDTO"
          Data="@UserData"
          ShowPager
          ShowPageSizes
          Responsive
          Editable>
   <DataGridColumns>
        <DataGridCommandColumn TItem="UsersDTO" Caption="Action" ClearFilterCommandAllowed="false">
            <NewCommandTemplate>
                <Button Color="Color.Primary" Clicked="() => OnAddButtonClicked()">Add user</Button>

            </NewCommandTemplate>
            <EditCommandTemplate>
                <Button Color="Color.Primary" Clicked="() => OnEditButtonClicked(context)">Edit</Button>
                  <Button Color="Color.Primary" Clicked="() => OnAddWorkoutButtonClicked(context)">Add Workout</Button>
            <Button Color="Color.Primary" Clicked="() => OnSeeUser(context)">See Workout</Button>

            </EditCommandTemplate>


             <DeleteCommandTemplate>
                <Button Color="Color.Primary" Clicked="() => OnDeleteButtonClicked(context)">Delete</Button>
            </DeleteCommandTemplate>
            
            
        </DataGridCommandColumn>

        <DataGridColumn TItem="UsersDTO" Field="FirstName" Caption="First Name" Editable></DataGridColumn>

        <DataGridColumn TItem="UsersDTO" Field="LastName" Caption="Last Name" Editable></DataGridColumn>

        <DataGridColumn TItem="UsersDTO" Field="Birthday" Caption="Date of Birth" Editable> </DataGridColumn>

        <DataGridColumn TItem="UsersDTO" Field="Gender" Caption="Gender" Editable></DataGridColumn>
    </DataGridColumns>
</DataGrid>

<DeleteConfirmationDialog @ref="DeleteConfirmation" OnConfirm="HandleDeleteConfirmed" />

<style>

h3 {
    text-align: center;
    color: #333;
    margin-bottom: 20px;
}

.DataGrid {
    margin: 0 auto;
    width: 90%;
    max-width: 1200px;
}

.DataGrid .b-datagrid {
    border: 1px solid #ddd;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.DataGrid .b-datagrid-header, .DataGrid .b-datagrid-footer {
    background-color: #f8f8f8;
    font-weight: bold;
}

.DataGrid .b-datagrid-row:nth-child(even) {
    background-color: #f2f2f2;
}

.DataGrid .b-datagrid-cell {
    padding: 10px;
}

.DataGrid .b-datagrid-command-cell button {
    margin: 0 5px;
}

button {
    font-size: 14px;
    padding: 8px 12px;
    border-radius: 4px;
    border: none;
    cursor: pointer;
}

button.Color.Primary {
    background-color: #007bff;
    color: #fff;
}

button.Color.Primary:hover {
    background-color: #0056b3;
}

.DeleteConfirmationDialog {
    text-align: center;
    padding: 20px;
}

.DeleteConfirmationDialog button {
    margin: 0 10px;
}

    </style>